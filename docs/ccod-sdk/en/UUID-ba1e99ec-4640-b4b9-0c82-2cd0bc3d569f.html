<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><script type="text/javascript">
			var index;
			var contentLanguage = 'en';
			var enterKey = 'select';
			
					var anchoroption = true;
				
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			</script><title>Example plug-ins</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style.css"></link><link rel="stylesheet" type="text/css" href="../css/style-responsive.css"></link><script src="../js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.event.move.js" type="text/javascript"></script><script src="../js/jquery.event.swipe.js" type="text/javascript"></script><script src="../js/jquery.sticky.js" type="text/javascript"></script><script src="../js/respond.min.js" type="text/javascript"></script><script src="../js/script.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="UUID-d06944a7-6886-3d51-e69e-390225773217.html" title="Compiling and installing examples"></link><link rel="next" href="UUID-bb541365-4925-7f31-7db5-27b9902aeeac.html" title="SDK 3.0.0 - configuration handling"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				
				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></head><body xmlns:php="http://php.net/xsl" data-link-prefix=""><div id="page" class="clearfix"><div id="header"><div class="container"><div id="logotype-container" class="pull-left"><a href="../index.html"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype"></img></a></div><div id="pagetools-container" class="pull-right"><ul id="page-tools"><li class="page-tools-search"><input placeholder="Search" type="text" class="form-control" id="search"></input></li><li class="page-tools-print"><a href="javascript:window.print();"><span class="tool-label">Print</span><span class="glyphicon glyphicon-print"></span></a></li></ul></div></div></div><h1 id="publication-title"><span class="phrase">CashComplete™ On-Device</span> Software Development Kit Guide version 3.0.0</h1><div id="subheader-sticky-wrapper" class="sticky-wrapper"><div id="subheader"><div class="container"><div class="row"><div class="col-md-3 toc-title"><h2><a class="prev nav-icon hidden-lg hidden-md" href="UUID-d06944a7-6886-3d51-e69e-390225773217.html"><span class="glyphicon glyphicon-chevron-left"></span> </a><a href="#toc" class="hidden mobile-nav-toggle"><span class="glyphicon glyphicon-list"></span>Table of Contents</a><span class="toc-label">Table of Contents</span><a class="next nav-icon hidden-lg hidden-md" href="UUID-bb541365-4925-7f31-7db5-27b9902aeeac.html"><span class="glyphicon glyphicon-chevron-right"></span> </a></h2></div><div class="col-md-9 breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><span class="glyphicon glyphicon-home"></span> <a href="index-en.html"><span class="phrase">CashComplete™ On-Device</span> Software Development Kit Guide version 3.0.0</a></li><li class="breadcrumb-link"><a href="UUID-a90722ac-fd27-8578-43bf-25ec725be647.html">CashComplete™ On-Device Software Development Kit Guide</a></li><li class="breadcrumb-link"><a href="UUID-901e1ea4-0868-7aae-f60a-6bedc6ecfa0d.html">SDK examples — prerequisites</a></li><li class="breadcrumb-node">Example plug-ins</li></ul></div></div></div></div></div><div id="main-content"><div class="container"><div class="row"><div class="col-md-3 toc-container" id="toc-wrapper"><div id="toc-placeholder"><ul class="toc"><li><a href="UUID-a90722ac-fd27-8578-43bf-25ec725be647.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> CashComplete™ On-Device Software Development Kit Guide</a><ul><li><a href="UUID-f95b3142-bdb2-0879-4dc9-5f0daac9b0bb.html" class="topic-link">User license agreement for PayComplete software</a></li><li><a href="UUID-2818c4e4-7c3e-a7a2-9a52-7769bcbf2f2f.html" class="topic-link">CashComplete™ On-Device and SDK compatibility matrix</a></li><li><a href="UUID-d2936ece-4207-e9a7-4c18-02fdf9b58ec2.html" class="topic-link">SDK documentation</a></li><li><a href="UUID-448d6bf9-75b2-362a-4278-c415bfd6b198.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started with JDK</a><ul><li><a href="UUID-9cdaf9cd-b405-3fd4-3756-857e1618153d.html" class="topic-link">Setting up the JDK workspace</a></li><li><a href="UUID-9fc1b8c2-e957-b10b-391c-8751a2dde4f2.html" class="topic-link">Implementing a JDK plug-in</a></li><li><a href="UUID-9bd9d62b-dab7-4f0f-8bff-e7575d67d5ed.html" class="topic-link">Compiling a JDK plug-in</a></li><li><a href="UUID-e88e8bfa-591a-6c32-3131-970e449fafc9.html" class="topic-link">Installing a JDK plug-in</a></li></ul></li><li><a href="UUID-d55347a6-a74a-871d-4e52-d5ae920984f8.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started with Eclipse</a><ul><li><a href="UUID-7dc0d9cc-a870-58bd-707a-d9dc282095be.html" class="topic-link">Setting up the Eclipse workspace</a></li><li><a href="UUID-d2b1e921-9643-0d47-6514-b50506884804.html" class="topic-link">Implementing an Eclipse plug-in</a></li><li><a href="UUID-b71af4e8-8c9f-348f-b545-d8ab425b999f.html" class="topic-link">Compiling an Eclipse plug-in</a></li><li><a href="UUID-a7d5b6d7-94d7-6e45-4e73-502014e5f079.html" class="topic-link">Installing an Eclipse plug-in</a></li></ul></li><li><a href="UUID-7318a2d9-4028-1f8d-f5c5-56a7166ed74d.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Inside the SDK</a><ul><li><a href="UUID-a42da773-7b3b-0d4b-ad89-0a6fe86e2fe5.html" class="topic-link">Compiling an SDK plug-in</a></li><li><a href="UUID-e77b5766-58ad-3def-4fc8-bf97e71004ed.html" class="topic-link">Installing an SDK plug-in</a></li><li><a href="UUID-c854a932-408e-e97c-bdb6-a2eb0d880e28.html" class="topic-link">SDK architecture</a></li><li><a href="UUID-964d2e7f-09f7-fa43-321b-b67c706e600c.html" class="topic-link">SDK flows</a></li><li><a href="UUID-2ac7e401-fef8-9b3c-2332-ec56efd8ceb3.html" class="topic-link">CashComplete™ On-Device and plug-in flowchart</a></li><li><a href="UUID-7cd7ffff-cd2e-88dd-3058-e655930232f8.html" class="topic-link">SDK managers</a></li><li><a href="UUID-ca45f3e6-b822-6cbb-8be8-16de54a34ca5.html" class="topic-link">CashComplete™ On-Device sessions</a></li><li><a href="UUID-d722c35d-ceca-013d-c8f3-d9ba476f9919.html" class="topic-link">CashComplete™ On-Device permissions</a></li><li><a href="UUID-cdf34923-71a5-721d-1a1f-7a1e0fc0dce6.html" class="topic-link">CashComplete™ On-Device operator service menu</a></li><li><a href="UUID-c467f34c-3db9-9860-b34f-18bf1612fa7f.html" class="topic-link">Custom device integration</a></li></ul></li><li><a href="UUID-24f67e04-0ea1-2411-fbb4-6444c10be3be.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> SDK troubleshooting</a><ul><li><a href="UUID-5061e5d4-ffa7-293a-474f-e9f827119caa.html" class="topic-link">Plug-in does not seem to start</a></li><li><a href="UUID-5e85eb81-eb71-5334-cbce-f2f8fc9f2d29.html" class="topic-link">There is no button for a plug-in service</a></li><li><a href="UUID-2689cf83-1a8d-7959-8b01-db48c94ed4f1.html" class="topic-link">CashComplete™ On-Device does not seem to start</a></li><li><a href="UUID-66315ac4-fbac-fdac-3760-85189928b385.html" class="topic-link">IOJDepositManager.beginTransaction() becomes unresponsive</a></li></ul></li><li><a href="UUID-901e1ea4-0868-7aae-f60a-6bedc6ecfa0d.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> SDK examples — prerequisites</a><ul><li><a href="UUID-d06944a7-6886-3d51-e69e-390225773217.html" class="topic-link">Compiling and installing examples</a></li><li><a href="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f.html" class="topic-link">Example plug-ins</a></li></ul></li><li><a href="UUID-bb541365-4925-7f31-7db5-27b9902aeeac.html" class="topic-link">SDK 3.0.0 - configuration handling</a></li><li><a href="UUID-83b41fe1-9cbd-ff16-c99f-02f4473d914a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> SDK 2.0.0</a><ul><li><a href="UUID-d5773f11-97c2-ddc9-ef78-fed8029fd98f.html" class="topic-link">New user interface framework</a></li><li><a href="UUID-636c17aa-7f0d-bffe-e77c-0ffda4bd3d3c.html" class="topic-link">Known flows launching process</a></li><li><a href="UUID-0aa70923-d132-3015-a381-2af11f2c5ef7.html" class="topic-link">SDK 2.0.0 - miscellaneous information</a></li></ul></li><li><a href="UUID-f5224b30-6ab9-7d7e-2758-993c7718b233.html" class="topic-link">Icons for services</a></li><li><a href="UUID-28d0d578-3fa4-4bc2-cb29-0f487a077613.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Purchases, payments, and kiosks</a><ul><li><a href="UUID-8398b260-6cfe-d571-f922-1cac53f59915.html" class="topic-link">CashComplete™ On-Device purchases</a></li><li><a href="UUID-7311a90b-969c-17e6-cc79-2c1844c91ce1.html" class="topic-link">Kiosk application — workflow</a></li><li><a href="UUID-9327879b-213e-e89b-9407-e2701d5f302d.html" class="topic-link">Advanced kiosk features</a></li><li><a href="UUID-2558a1cc-0b30-bc42-a498-0eb806eb80eb.html" class="topic-link">Purchase accounting</a></li></ul></li><li><a href="UUID-8c537626-5f5c-af1d-46e8-7c6feb1edec1.html" class="topic-link">Revision history</a></li></ul></li></ul></div></div><div class="col-md-9 content-container" id="content-wrapper"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="UUID-d06944a7-6886-3d51-e69e-390225773217.html"><span class="glyphicon glyphicon-circle-arrow-left"></span>Prev</a><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="UUID-bb541365-4925-7f31-7db5-27b9902aeeac.html">Next<span class="glyphicon glyphicon-circle-arrow-right"></span></a><div id="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-5462c42f-ba9e-0de8-1393-871cf4f9baae" data-publication-date="" id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f"><div class="titlepage"><div><div class="title"><h4 class="title">Example plug-ins<span id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_UUID-b803dc87-4261-0cb5-c6b7-fd04c93fdace"></span></h4></div></div></div><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091573810573" class="bridgehead">ReceiptPrinter</h5><p>The ReceiptPrinter is not a complete plug-in. It’s a helper class used by some of the other examples (BagDropper, ParallelDeposit, and DispenseValue). The ReceiptPrinter performs the following tasks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Prints a standard receipt</p></li><li class="listitem"><p>Does a number of updates to the user interface</p></li><li class="listitem"><p>Tells the user that a receipt is being printed</p></li><li class="listitem"><p>Asks the user to take the receipt.</p></li><li class="listitem"><p>Handles some errors</p></li></ul></div><p>If the ReceiptPrinter fails to print a receipt, it shows an error screen with an image of what the receipt would have looked like.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091576343524" class="bridgehead">DoorHandler</h5><p>Required permission: DOOR_HANDLER</p><p>DoorHandler is a simple plug-in that shows a Door Handler button on the select service screen . Clicking the button displays a table with all micro switches that the machine can look at — both doors and others, like the till box, and the current status (opened closed) for the switches.</p><p>The DoorHandler plug-in has buttons for navigating up and down in this list of doors. If the currently selected door can be opened and closed by the software, the user interface has buttons for opening and closing the doors.</p><p>The DoorHandler example shows the new door handling in IOJDeviceManager. The example also shows how to display a table on the screen by implementing an IOJTableModel.</p><p>The DoorHandler example was introduced in revision 1.4.0 and replaces the RCSDoorStatus, which used the deprecated, I/O handling.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091578224386" class="bridgehead">BagDropper</h5><p>Required permission: BAG_DROPPER</p><p>The BagDropper plug-in implements a simple bag-drop flow. You scan the bar code on bags, enter the amount in the bag, and then drop the bag into the drop safe. You repeat these steps as needed. When finished, you click Done and a deposit receipt is printed.</p><p>The BagDropper example shows how to communicate with IOJDropSafe and IOJBarcodeReader. It also shows how to prompt the user to input a number.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091581544909" class="bridgehead">ExternalUserLogin</h5><p>The ExternalUserLogin example registers a boot flow that implements a new login procedure. It uses the standard <span class="phrase">CashComplete™ On-Device</span> card reader and also shows a <span class="guilabel">Start</span> button for manual login. The <span class="guilabel">Start</span> button is only shown if you have set the ENABLE_MANUAL_LOGIN constant to true. The ExternalUserLogin example doesn’t use the <span class="phrase">CashComplete™ On-Device</span> user database (<code class="filename">users.xml</code> and <code class="filename">roles.xml</code>). Instead, it shows how to connect to another custom user database. The example demonstrates this using two hard-coded users.</p><p>The ExternalUserLogin example shows how to communicate with IOJCardReader, how to log in users with IOJUserManager, and how to prompt for user id and passwords (pin codes). It also shows how to handle the operator service menu and how to handle that the system is out of use — by checking for errors and by registering an error listener. When implementing a completely new idle flow, you must handle both the operator service menu and the out of use state.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091583079544" class="bridgehead">ExternalLoginDevice</h5><p>The ExternalLoginDevice example registers a boot flow that implements a new login procedure. This example is similar to ExternalUserLogin, but uses an external identification device instead of the built-in card reader. It uses the internal <span class="phrase">CashComplete™ On-Device</span> user database instead of an external user database.</p><p>The external identification device could be an RFID tag reader, a finger print scanner, or anything else that can be used for user identification. In the example, the external identification device is demonstrated with a Java Swing window that has a field for user ID input and a button to simulate that the ID number was read by the device.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm23209158418772" class="bridgehead">DispenseValue</h5><p>Required permission: DISPENSE_VALUE</p><p>The DispenseValue example shows a dispense flow where the user doesn’t select an exact mix. Instead, the user gets to enter the value and a currency to dispense. The plug-in tries to create a mix to match that value. The mix is then dispensed and a receipt is printed.</p><p>The algorithm used to create the mix was simplified in earlier versions of the SDK. From SDK 2.0.0, a built-in mix algorithm is used.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091585507452" class="bridgehead">RemoteController</h5><p>The RemoteController example shows how to implement a remote control protocol that disables the user interface on the RCS and uses it as a remote controlled coin recycler. Connected note devices are not used in this example. The example shows a very simple remote protocol that only has commands for deposit. The example lacks large parts of error handling for the communication.</p><p>The RemoteController example registers two flows: one boot flow and one logged-in flow. The boot flow waits for commands from the client and, when a command is received,it logs on a user and returns. Next, the logged-in flow takes over. The logged-in flow performs the task (the deposit). That way a new session is created for each deposit command.</p><p>The RemoteController example also has a server class that runs as a separate thread and handles the actual protocol.</p><p>The example also shows how to implement a simple deposit flow that only accepts coins and only runs on one device. The RemoteController example is much simpler than the ParallelDeposit example where parallel deposits are done with several devices.</p><p>To test the remote controller, you can use a freeware program called netcat. Use it to connect to port 8888 on the RCS. If you run the freeware from the RCS itself, connect like this: nc localhost 8888</p><p>Next, enter text commands in netcat and rress ENTER to send the commands. The responses from the RCS are shown in netcat as separate lines.</p><p>To start a deposit, send this command: DEPOSIT:userid:username The user ID does not have to match any user ID in users.xml. A new temporary user is created using the ID and name.</p><p>The RCS sends the status for the deposit and intermediate updates as it counts coins. When you have completed the deposit, send the command:</p><p>STOP</p><p>The RCS then sends you the result of the deposit and the complete amount of deposited coins and then returns to idle.</p><p>For more information about the protocol, see the actual example.</p><p>Just like the ExternalUserLogin and ExternalLoginDevice examples, the RemoteController example enables the operator service menu while it is waiting for commands. This wouldn’t be necessary if you had a complete protocol where all service tasks could be done remotely.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091586817827" class="bridgehead">ParallelDeposit</h5><p>Required permission: PARALLEL_DEPOSIT</p><p>The ParallelDeposit example shows a more advanced deposit flow that has parallel deposit of the different deposit devices. The user interface resembles, but is not identical to, the standard RCS deposit flow.</p><p>If you compare this deposit flow to the flow in the RemoteController example you will see how complicated it gets when you do parallel deposits. The error handling becomes more complicated and you also have to be very careful with concurrency aspects and thread synchronization.</p><p>The ParallelDeposit example shows how to use the IOJDepositManager and how to start deposits with both IOJBatchDepositer and IOJContinuousDepositer in parallel. The example shows how to use an IOJTableModel to display the deposited amount. It alo shows how to handle different types of deposit errors.</p><p>The run() method of the flow is fairly short and only shows the outline of the flow. It calls a number of helper methods that performs the different tasks required to implement such a flow.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091588410428" class="bridgehead">CustomInfoDeposit</h5><p>The CustomInfoDeposit example demonstrates how to add a pre- or post flow before or after one of the standard flows by simply hi-jacking that flow and implementing our own flow — doing the additional pre-step and then launching the known flow.:</p><p>In the customized pre-deposit step, we read the current temperature (in degrees Celsius, at the <span class="phrase">PayComplete®</span> headquarters outside Chicago) and add the temperature as custom data to the deposit transaction.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091589779395" class="bridgehead">Exchange</h5><p>Required permission: EXCHANGE_CASH</p><p>The Exchange example demonstrates how to use the possibility to launch known flows to create a new user flow. In this case, we create an exchange function by running a standard deposit and then launching the dispense requested amount flow.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091590744755" class="bridgehead">TableEditor</h5><p>Required permission: TABLE:*</p><p>The TableEditor example demonstrates how to use the new UI framework in SDK 2.0.0. Fore more information, see New UI framework. The example, also shows some new permission functions and how to use <span class="phrase">CashComplete™ On-Device</span> built-in configurations. The TableEditor plug-in shows a screen with a table and a numpad. The title is fetched from the configurations and the rows are based on permissions. With the numpad, you can enter data to the table and, finally, you can print the content of the table.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091591745901" class="bridgehead">SimpleKiosk</h5><p>This is a very simple kiosk application. It is basically intended to work as the GUI for a vending machine.</p><p>The display shows a list of products and, if you click one of the products, you are prompted to pay. Once the product is paid, the kiosk supplies the product (not actually implemented), gives back the change, and prints a receipt.</p><p>The application does not manage user sessions longer than one such purchase and does not manage user credits when over-payments are done.</p><h5 id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_bridgehead-idm232091593271689" class="bridgehead">SessionKiosk</h5><p>This is a more advanced kiosk application. The application works as the GUI for a car wash starter and cash exchange machine.</p><p>The application gives the user the following options:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Start a car wash</p></li><li class="listitem"><p>Buy tokens</p></li><li class="listitem"><p>Buy coins</p></li><li class="listitem"><p>Buy a mix of coins and tokens</p></li><li class="listitem"><p>Recharge a loyalty card</p></li></ul></div><p>In this example, the user starts by doing one of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Clicking the screen</p></li><li class="listitem"><p>Inserting a card</p></li><li class="listitem"><p>Scanning a barcode</p></li></ul></div><p>When selecting a product, the user is logged in.</p><p>After purchasing one product, the user remains logged in and can purchase additional products until logged out. This makes it possible to manage remaining credits after a purchase. If there are credits from a purchase due to an over-payment that couldn’t be refunded, the credits can be used for other purchases.</p><p>If the user logs out with credits remaining, a voucher that can be used for a later purchase is printed.</p><p>A database of valid vouchers needs to be stored by the application, preferably on a remote server.</p><p>In this case, to make the example simple and just show the concept, the database is just a non-persisted Map in the memory.</p><div class="informalexample seealso" id="UUID-ba1e99ec-4640-b4b9-0c82-2cd0bc3d569f_informalexample-idm33209157298708"><p>See also</p><p><a class="xref" href="UUID-901e1ea4-0868-7aae-f60a-6bedc6ecfa0d.html" title="SDK examples — prerequisites"><span class="xreftitle">SDK examples — prerequisites</span></a></p></div></section><div class="footer-content"><div class="additional-links"></div></div><footer></footer></div></div></div></div></div></div></body></html>
